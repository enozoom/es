var Util={Number:{_format:function(e){for(e=(e||0).toString(),result="";e.length>3;)result=","+e.slice(-3)+result,e=e.slice(0,e.length-3);return e+result}},Tab:{_init:function(e,t){t=t||"click",e.bind(t,function(){var e=$(this).data("toggle");Util.Tab._active_cls($(this))._active_cls(e)})},_active_cls:function(e,t){var i;return t=t||"active",i=e instanceof jQuery?e:$("#"+e),i.addClass(t).siblings().removeClass(t),this}},Alert:{_init:function(e,t){var i='<p class="'+["ok","err"][e]+'"><i class="'+["ion-checkmark-circled","ion-close-circled"][e]+'"></i>'+t+"</p>";$alert=this._append().append(i),setTimeout(function(){$alert.fadeOut(500)},4e3)},_err:function(e){this._init(1,e)},_ok:function(e){this._init(0,e)},_append:function(){var e=$("#es-alert");return e.length&&e.find("p").remove(),e.length?e:$('<div id="es4-alert"/>').appendTo("body")}},Area:{container:null,_init:function(e){$(e).each(function(){var t=$(this),i=t.attr("id");return i?(t.find("select").length?(t.html(""),Util.Area._init(e)):Util.Area._load(4,t),void t.on("change","select",function(){$(this).nextAll("select").remove(),Util.Area._load($(this).val(),t)})):(console.log(e+"必须存在id属性，该属性会转成select的name[]"),!1)})},_load:function(e,t){return Number(e)?void $.get("/api/category/area/"+e,function(e){!Number(e.err)&&e.msg.toString().length&&Util.Area._select(e.msg,t)},"json"):!1},_select:function(e,t){var i=t.data("ids"),n=t.find("select").length,a=0;i&&(i=i.split(","),a=i.length>=n?i[n]:0);var l=$('<select name="'+t.attr("id")+'[]"><option value="0">请选择</option></select>');$.each(e,function(e,t){l.append('<option value="'+e+'"'+(a&&a==e?" selected":"")+">"+t+"</option>")}),t.append(l),a&&l.trigger("change")}},Dialog:{_err:function(e){this._init(e)},_ok:function(e){this._init(e,1)},_close:function(){setTimeout(function(){$("#es-dialog").fadeOut()},5e3)},_init:function(e,t){t=t||0;var i=["ion-close-circled","ion-checkmark-circled"][t],n=["rgba(220,37,1,.6)","rgba(5,202,83,.6)"][t],a=$("#es-dialog");if(a.length)$("#es-dialog i").attr("class",i),$("#es-dialog p").css("background-color",n),$("#es-dialog span").html(e);else{a=$('<div id="es-dialog" style="position:fixed;bottom:100px;width:600px;z-index:9999;left:50%;margin-left:-300px;display:none;"/>');var l=$('<p style="background-color:'+n+';padding:15px 20px;border-radius:5px;"/>'),o=$('<i class="'+i+'" style="margin-right:5px;"/>');$span=$("<span/>").html(e),a.append(l.append(o,$span)).appendTo("body")}a.fadeIn(),this._close()}}};